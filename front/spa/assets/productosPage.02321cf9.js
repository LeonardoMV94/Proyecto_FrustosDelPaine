import{J as q,al as R,r as n,E as $,L as x,M,N as s,W as j,am as F,an as T,O as o,ao as G,R as w,ap as i,aq as L,V as S,ar as z,as as A,ak as J,X,au as O,S as I,av as P,Q as H,aw as Q}from"./index.3d5788d8.js";import{Q as W,a as E}from"./QForm.78ec8121.js";import{Q as Y,a as y}from"./QTr.ac3c5c62.js";import{Q as Z,a as h}from"./QTable.f7cbd520.js";import{Q as ee,a as oe}from"./QItem.67c78710.js";import{u as K}from"./productos.ccef6c49.js";const ae=A("div",{class:"text-center text-h5 q-pb-md"},"Crear un nuevo Producto",-1),le=q({__name:"crearProducto",props:{dialogVisible:{type:Boolean}},emits:["update:dialogVisible"],setup(v,{emit:c}){const _=K(),N=v,{dialogVisible:p}=R(N),C=c,b=n([]),g=n(0),m=n(""),V=n(0),u=n(0),d=n(0),U=n(""),B=n(),D=async()=>{B.value=g.value;const f={descripcion:m.value,peso_gramos:V.value,precio_neto:u.value,stock:d.value,cod_barras:U.value,Categorias_id:B.value},l=await _.crearProducto(f);console.log("Result createProduct ",l),k()},k=()=>{C("update:dialogVisible",!1)};return $(()=>{_.getCategoriasLabelValue().then(f=>b.value=f)}),(f,l)=>(x(),M(T,{modelValue:j(p),"onUpdate:modelValue":l[6]||(l[6]=e=>F(p)?p.value=e:null),class:"q-ma-xl"},{default:s(()=>[o(z,{style:{width:"80vw"}},{default:s(()=>[o(G,null,{default:s(()=>[ae,o(W,null,{default:s(()=>[o(Z,{class:"col",options:b.value,modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=e=>g.value=e),label:"Categorias"},{"no-option":s(()=>[o(ee,null,{default:s(()=>[o(oe,{class:"text-italic text-grey"},{default:s(()=>[w(" Sin Categorias ")]),_:1})]),_:1})]),_:1},8,["options","modelValue"]),o(i,{class:"q-pb-md col",modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e),modelModifiers:{string:!0},label:"Ingrese descripcion",rules:[e=>!!e||"Este campo es obligatorio"]},null,8,["modelValue","rules"]),o(i,{type:"number",modelValue:V.value,"onUpdate:modelValue":l[2]||(l[2]=e=>V.value=e),modelModifiers:{number:!0},label:"Ingrese peso en gramos",mask:"#############",rules:[e=>!!e||"Este campo es obligatorio",e=>e>=0||"debe ser un valor positivo"]},null,8,["modelValue","rules"]),o(i,{type:"number",modelValue:u.value,"onUpdate:modelValue":l[3]||(l[3]=e=>u.value=e),modelModifiers:{number:!0},label:"Ingrese precio",mask:"#######",rules:[e=>!!e||"Este campo es obligatorio",e=>e>=0||"debe ser un valor positivo"]},null,8,["modelValue","rules"]),o(i,{type:"number",modelValue:d.value,"onUpdate:modelValue":l[4]||(l[4]=e=>d.value=e),modelModifiers:{number:!0},label:"Ingrese stock",mask:"###",rules:[e=>!!e||"Este campo es obligatorio",e=>e>=1||"debe ser un valor positivo mayor o igual a 1"]},null,8,["modelValue","rules"]),o(i,{modelValue:U.value,"onUpdate:modelValue":l[5]||(l[5]=e=>U.value=e),modelModifiers:{string:!0},label:"Ingrese codigo de barra",mask:"NNNNNNNNNNNNNN",rules:[e=>!!e||"Este campo es obligatorio"]},null,8,["modelValue","rules"])]),_:1})]),_:1}),o(L,{align:"right"},{default:s(()=>[o(S,{color:"secondary",type:"submit",label:"crear",onClick:D}),o(S,{color:"negative",label:"Cancel",onClick:k})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),te=A("div",{class:"text-center text-h5 q-pb-md"},"Crear una nueva Categoria",-1),se=q({__name:"crearCategoria",props:{dialogVisible2:{type:Boolean}},emits:["update:dialogVisible2"],setup(v,{emit:c}){const _=K(),N=v,{dialogVisible2:p}=R(N),C=c,b=n(""),g=async()=>{const V={categoria:b.value},u=await _.createCategoria(V.categoria);console.log("Result createProduct ",u),m()},m=()=>{C("update:dialogVisible2",!1)};return(V,u)=>(x(),M(T,{modelValue:j(p),"onUpdate:modelValue":u[1]||(u[1]=d=>F(p)?p.value=d:null),class:"q-ma-xl"},{default:s(()=>[o(z,{style:{width:"80vw"}},{default:s(()=>[o(G,null,{default:s(()=>[te,o(W,null,{default:s(()=>[o(i,{class:"q-pb-md col",modelValue:b.value,"onUpdate:modelValue":u[0]||(u[0]=d=>b.value=d),modelModifiers:{string:!0},label:"Ingrese descripcion",rules:[d=>!!d||"Este campo es obligatorio"]},null,8,["modelValue","rules"])]),_:1})]),_:1}),o(L,{align:"right"},{default:s(()=>[o(S,{color:"secondary",type:"submit",label:"crear",onClick:g}),o(S,{color:"negative",label:"Cancel",onClick:m})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),re=async()=>(await J.get("/productos")).data,ue=async v=>(await J.delete(`/productos/${v}`)).data,ne={class:"q-pa-md"},be=q({__name:"productosPage",setup(v){const c=K(),_=async(l,e)=>{const a={descripcion:e};console.log("editarItemDescripcion",l,a),await c.updateProducto(l,a)},N=async(l,e)=>{const a={peso_gramos:e};console.log("editarItemPesoGramos",l,a),await c.updateProducto(l,a)},p=async(l,e)=>{const a={precio_neto:e};console.log("editarItemPrecioNeto",l,a),await c.updateProducto(l,a)},C=async(l,e)=>{const a={stock:e};console.log("editarItemStock",l,a),await c.updateProducto(l,a)},b=async(l,e)=>{const a={cod_barras:e};console.log("editarItemCodBarra",l,a),await c.updateProducto(l,a)},g=n(!1),m=n(!1),V=()=>{g.value=!0},u=()=>{m.value=!0},d=async l=>{g.value=l},U=async l=>{m.value=l},B=l=>{ue(l).then(e=>{console.log("Producto eliminado",e.id)}).catch(e=>{console.log("Producto eliminado",e)}).finally(()=>{f()})},D=[{field:"descripcion",name:"descripcion",label:"descripcion"},{field:"peso_gramos",name:"peso_gramos",label:"peso en gramos"},{field:"precio_neto",name:"precio_neto",label:"precio neto"},{field:"stock",name:"stock",label:"stock"},{field:"cod_barras",name:"cod_barras",label:"codido de barras"},{field:"delete",name:"delete",label:""}],k=n(),f=()=>{re().then(l=>{k.value=l,console.log(k.value)}).catch(l=>console.log("error al obtener datos",l))};return $(async()=>{f(),console.log(D)}),(l,e)=>(x(),X("div",ne,[o(S,{unelevated:"",color:"primary",label:"Crear Producto",onClick:V}),o(S,{unelevated:"",color:"blue",label:"Crear categoria",onClick:u}),o(h,{style:{height:"400px"},flat:"",bordered:"",title:"Tabla de Productos",rows:k.value,columns:D,"no-data-label":"No se encontro ningun Producto"},{body:s(a=>[o(Y,{props:a},{default:s(()=>[o(y,{key:"descripcion",props:a},{default:s(()=>[w(I(a.row.descripcion)+" ",1),o(E,{modelValue:a.row.descripcion,"onUpdate:modelValue":t=>a.row.descripcion=t,title:"Editar descripcion",buttons:"",persistent:"",onSave:t=>_(a.row.id,t)},{default:s(t=>[o(i,{modelValue:t.value,"onUpdate:modelValue":r=>t.value=r,autofocus:"",counter:"",mask:"SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS","unmasked-value":"",onKeyup:e[0]||(e[0]=P(Q(()=>{},["stop"]),["enter"])),rules:[r=>!!r||"Ingrese un descripcion"]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"]),o(y,{key:"peso_gramos",props:a},{default:s(()=>[w(I(a.row.peso_gramos)+" ",1),o(E,{modelValue:a.row.peso_gramos,"onUpdate:modelValue":t=>a.row.peso_gramos=t,title:"Editar el peso Gramo",buttons:"",persistent:"",onSave:t=>N(a.row.id,t)},{default:s(t=>[o(i,{modelValue:t.value,"onUpdate:modelValue":r=>t.value=r,autofocus:"",counter:"",mask:"#####","unmasked-value":"",onKeyup:e[1]||(e[1]=P(Q(()=>{},["stop"]),["enter"])),rules:[r=>!!r||"Ingrese un peso gramo"]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"]),o(y,{key:"precio_neto",props:a},{default:s(()=>[w(I(a.row.precio_neto)+" ",1),o(E,{modelValue:a.row.precio_neto,"onUpdate:modelValue":t=>a.row.precio_neto=t,title:"Editar el peso Gramo",buttons:"",persistent:"",onSave:t=>p(a.row.id,t)},{default:s(t=>[o(i,{modelValue:t.value,"onUpdate:modelValue":r=>t.value=r,autofocus:"",counter:"",mask:"#####","unmasked-value":"",onKeyup:e[2]||(e[2]=P(Q(()=>{},["stop"]),["enter"])),rules:[r=>!!r||"Ingrese un peso precio neto"]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"]),o(y,{key:"stock",props:a},{default:s(()=>[w(I(a.row.stock)+" ",1),o(E,{modelValue:a.row.stock,"onUpdate:modelValue":t=>a.row.stock=t,title:"Editar el stock",buttons:"",persistent:"",onSave:t=>C(a.row.id,t)},{default:s(t=>[o(i,{modelValue:t.value,"onUpdate:modelValue":r=>t.value=r,autofocus:"",counter:"",mask:"#####","unmasked-value":"",onKeyup:e[3]||(e[3]=P(Q(()=>{},["stop"]),["enter"])),rules:[r=>!!r||"Ingrese un peso stock"]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"]),o(y,{key:"cod_barras",props:a},{default:s(()=>[w(I(a.row.cod_barras)+" ",1),o(E,{modelValue:a.row.cod_barras,"onUpdate:modelValue":t=>a.row.cod_barras=t,title:"Editar el cod.Barra",buttons:"",persistent:"",onSave:t=>b(a.row.id,t)},{default:s(t=>[o(i,{modelValue:t.value,"onUpdate:modelValue":r=>t.value=r,autofocus:"",counter:"",mask:"NNNNNNNNNNN","unmasked-value":"",onKeyup:e[4]||(e[4]=P(Q(()=>{},["stop"]),["enter"])),rules:[r=>!!r||"Ingrese un peso codigo de barra"]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),_:2},1032,["props"]),o(y,{key:"delete",props:a},{default:s(()=>[o(S,{size:"md",color:"red",label:"Eliminar ",onClick:t=>B(a.row.id)},{default:s(()=>[o(H,{name:"delete"})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"]),(x(),M(O,null,{default:s(()=>[o(le,{dialogVisible:g.value,"onUpdate:dialogVisible":d},null,8,["dialogVisible"])]),_:1})),(x(),M(O,null,{default:s(()=>[o(se,{"dialog-visible2":m.value,"onUpdate:dialogVisible2":U},null,8,["dialog-visible2"])]),_:1}))]))}});export{be as default};
